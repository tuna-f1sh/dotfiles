# vim: filetype=neomuttrc
source /usr/local/share/mutt-wizard/mutt-wizard.muttrc # mw-autogenerated
source ${XDG_CONFIG_HOME}/mutt/accounts/1-protonmail.muttrc
# source ${XDG_CONFIG_HOME}/mutt/accounts/3-specialized-davmail.muttrc
# macro index,pager i1 '<sync-mailbox><enter-command>source ${XDG_CONFIG_HOME}/mutt/accounts/1-specialized.muttrc<enter><change-folder>!<enter>;<check-stats>' "switch to specialized" # mw-autogenerated
# macro index,pager i2 '<sync-mailbox><enter-command>source ${XDG_CONFIG_HOME}/mutt/accounts/2-gmail.muttrc<enter><change-folder>!<enter>;<check-stats>' "switch to gmail" # mw-autogenerated

set date_format="%y/%m/%d %H:%M"
set index_format="%2C %Zs %?X?A& ? %D %-15.15F %s (%-4.4c)"
set sort=reverse-threads
set sort_browser=date
set sort_aux=date-received
set delete=yes            # don't ask for delete confirmation
set confirmappend=no      # Makes folder moves faster.
set auto_tag              # apply operations to all currently tagged messages
unset reply_self

set mime_forward=no
set mime_forward_rest=yes
set mime_forward_decode=yes
set forward_decode=yes
set print=no

macro  index  \Cv  "<pipe-message>${XDG_CONFIG_HOME}/mutt/viewhtml\n" "View HTML in browser"
macro  pager  \Cv  "<pipe-message>${XDG_CONFIG_HOME}/mutt/viewhtml\n" "View HTML in browser"
set pager_stop=yes         # Don't skip to next message at end of message


# Pandoc convert to html
macro compose \e5 "F pandoc -s -f markdown -t html \ny^T^Utext/html; charset=us-ascii\n"
set wait_key=no

set text_flowed       # soft wrap when sending
set askcc             # ask for CC:
set charset           = "utf-8"
set send_charset      = 'us-ascii:utf-8'
set tmpdir            = '/tmp/mutt'

# Puts email headers in Vim
set edit_headers=yes
# Adds a header that is used to determine whether my send script should convert the markdown to html
my_hdr Markdown: false
